<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Lyso as™ R&amp;D</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Lyso as™ R&D">
<meta property="og:url" content="http://lyso.me/page/2/index.html">
<meta property="og:site_name" content="Lyso as™ R&D">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lyso as™ R&D">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Lyso as™ R&amp;D" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Lyso as™ R&amp;D</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">理想主义者在现实中的舞步</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://lyso.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-badminton-second-mi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/27/badminton-second-mi/" class="article-date">
  <time datetime="2014-06-27T15:22:11.000Z" itemprop="datePublished">2014-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/27/badminton-second-mi/">遗憾却也不易的亚军（多图^^）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://lyso.qiniudn.com/badminton.2.jpg" alt="image"></p>
<h2 id="遗憾，也很不易。">遗憾，也很不易。</h2><p>我们队名叫云由队，即路由器/云平台队。</p>
<p>小组赛第一轮对阵小米网，在开赛前拉了拉球，我觉得状态还不错，跟荣堂商量谁打男单时我自告奋勇上了场。但比赛时各种失误和动作僵硬，竟将一场势在必得的比赛输掉了。后续的比赛赢了两场，总比分2:3输掉。</p>
<h2 id="球友的重要性">球友的重要性</h2><h2 id="专项训练">专项训练</h2><h2 id="记着什么，忘掉什么">记着什么，忘掉什么</h2><p><img src="http://lyso.qiniudn.com/badminton.1.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.3.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.4.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.5.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.6.jpg" alt="image"></p>
<p>再来几张好搭档荣堂的后场动作：）<br><img src="http://lyso.qiniudn.com/badminton.27.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.28.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.29.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.30.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.31.jpg" alt="image"><br><img src="http://lyso.qiniudn.com/badminton.32.jpg" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2014/06/27/badminton-second-mi/" data-id="ci7zkady8004or158mouocmgf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/亚军/">亚军</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/小米/">小米</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/小米羽毛球联赛/">小米羽毛球联赛</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/羽毛球/">羽毛球</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ten-years" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/25/ten-years/" class="article-date">
  <time datetime="2014-06-25T15:22:11.000Z" itemprop="datePublished">2014-06-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/25/ten-years/">十年</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2004年来北京念大学，至今十年。</p>
<p>TO BE CONTINUED…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2014/06/25/ten-years/" data-id="ci7zkadwi000dr158u4x50wag" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-setup-this-site" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/05/07/setup-this-site/" class="article-date">
  <time datetime="2014-05-07T10:44:12.000Z" itemprop="datePublished">2014-05-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/05/07/setup-this-site/">我的博客站点搭建过程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://lyso.qiniudn.com/mm.1.jpg" alt="builder"></p>
<h2 id="用什么搭建的">用什么搭建的</h2><ul>
<li>空间用的Github Pages<ul>
<li>用天航的话说，cnblogs/csdn/sina-blog等太低端太屌丝</li>
<li>流量不算太大时买空间又要花钱不太划算</li>
<li>我的代码大都在github上，Github Pages发布方便</li>
</ul>
</li>
<li>域名在godaddy上购买<ul>
<li>国外的，不需要备案</li>
</ul>
</li>
<li>DNS用DNSPod<ul>
<li>方便好用</li>
</ul>
</li>
<li><p>静态网页内容在本地用hexo生成（模板+markdown），并发布到github上</p>
<ul>
<li>用天航的话说，wordpress太低端</li>
<li>markdown简洁方便，在Jekyll、Octopress、Pelican、FarBox、Ghost、Marboo、Hexo、Medium中综合选取和Hexo，选取原因包括：<ul>
<li>名字好听</li>
<li>台湾人搞的，中文支持肯定不疼</li>
<li>对Node.js的印象比Ruby好<br>具体情况可以随便搜一下这些关键词，网上一大堆。</li>
</ul>
</li>
</ul>
</li>
<li><p>评论用多说（会换掉成我们自己开发的产品），分享用jiathis</p>
<ul>
<li>不用disqus/addthis是因为在天朝用的人不多，不需要装B的地方就别装了</li>
<li>我们已经做出来一套消息通信平台，可以做任何disqus可以做的和做不了的事情，敬请期待：）</li>
</ul>
</li>
</ul>
<h2 id="已有环境">已有环境</h2><p>已经安装好<code>git</code>，本地有<code>shell</code>命令终端，有个文本编辑器如<code>editplus</code>或<code>sublime text 2</code>或<code>记事本</code>，有<code>github</code>账号。</p>
<h2 id="安装node-js">安装node.js</h2><p>直接到<a href="http://nodejs.org/" target="_blank" rel="external">node.js官方网站</a> 下载安装即可。</p>
<h2 id="安装hexo">安装hexo</h2><p><code>npm install -g hexo</code></p>
<h2 id="初始化你的博客站点">初始化你的博客站点</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir your-site</span><br><span class="line">cd your-site</span><br><span class="line">hexo init <span class="preprocessor"># 初始化站点</span></span><br><span class="line">hexo g <span class="preprocessor"># 同 hexo generate，生成静态文件</span></span><br><span class="line">npm install <span class="preprocessor"># 仅需运行一次</span></span><br><span class="line">hexo <span class="keyword">server</span> <span class="preprocessor"># 起服务</span></span><br></pre></td></tr></table></figure>
<p>此时在<a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> 就能看到服务了。</p>
<h2 id="上传到github">上传到github</h2><p>首先，需要在github上有个账号，并且把本机的ssh加入到github的authed-keys中。这些默认有节操的程序员都有的，自然不必再讲解了。如果你正在朝有节操的路上奔走，赶紧搜个教程搞定吧：）</p>
<p>其次，在github上新建一个特殊的repository，比如我的github账号是leoyonn，则我新建是 leoyonn.github.io 这个repository。</p>
<p>然后，在你的本地hexo站点目录下的_config.yml文件中添加配置：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: github</span><br><span class="line">  <span class="attribute">repository</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:leoyonn/leoyonn.github.io.git</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure>
<p>然后使用命令 <code>hexo g -d</code> 就能通过git的commit和push命令直接发布到githubpages上了。等个十来分钟试一下吧： <a href="http://leoyonn.github.io" target="_blank" rel="external">http://leoyonn.github.io</a></p>
<h2 id="域名配置">域名配置</h2><p>有个个性的域名更拉风和装B，比如 <a href="http://lyso.me" target="_blank" rel="external">http://lyso.me</a> ^^。<br>域名在godaddy上买，支持支付宝支付。有一堆教程教如何购买，基本上搜一下一路next就行了。还有教如何使用优惠券的，这里不多说了。<em>建议大家申请.com或.me域名。据说.info因垃圾网站太多，被搜索引擎惩罚，而且续费较贵。</em><br>但由于墙的原因，godaddy的域名解析在国内基本上无法使用，看大家都用dnspod，我试着也不错。</p>
<p>首先，在godaddy帐户里设置本域名对应的dns解析地址为dnspod，如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:left">#</th>
<th style="text-align:left">Nameserver</th>
<th style="text-align:left">Status</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">F1G1NS1.DNSPOD.NET</td>
<td style="text-align:left">Active</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">F1G1NS2.DNSPOD.NET</td>
<td style="text-align:left">Active</td>
</tr>
</tbody>
</table>
<p>其次，在这里找到github的ip地址：<a href="https://help.github.com/articles/my-custom-domain-isn-t-working" target="_blank" rel="external">https://help.github.com/articles/my-custom-domain-isn-t-working</a> ，并在dnspod上的域名配置项里添加两个A记录，如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:left">主机记录</th>
<th style="text-align:left">记录类型</th>
<th style="text-align:left">线路类型</th>
<th style="text-align:left">记录值</th>
<th style="text-align:left">MX优先级</th>
<th style="text-align:left">TTL</th>
<th style="text-align:left">操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">A</td>
<td style="text-align:left">默认</td>
<td style="text-align:left">192.30.252.153</td>
<td style="text-align:left">-</td>
<td style="text-align:left">600</td>
<td style="text-align:left">删除  暂停</td>
</tr>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">A</td>
<td style="text-align:left">默认</td>
<td style="text-align:left">192.30.252.154</td>
<td style="text-align:left">-</td>
<td style="text-align:left">600</td>
<td style="text-align:left">删除 暂停</td>
</tr>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">NS</td>
<td style="text-align:left">默认</td>
<td style="text-align:left">f1g1ns1.dnspod.net.</td>
<td style="text-align:left">-</td>
<td style="text-align:left">600</td>
<td style="text-align:left">删除  暂停</td>
</tr>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">NS</td>
<td style="text-align:left">默认</td>
<td style="text-align:left">f1g1ns2.dnspod.net.</td>
<td style="text-align:left">-</td>
<td style="text-align:left">600</td>
<td style="text-align:left">删除  暂停</td>
</tr>
<tr>
<td style="text-align:left">email</td>
<td style="text-align:left">CNAME</td>
<td style="text-align:left">默认</td>
<td style="text-align:left">email.secure…r.net.</td>
<td style="text-align:left">-</td>
<td style="text-align:left">600</td>
<td style="text-align:left">删除  暂停</td>
</tr>
</tbody>
</table>
<p>然后，在本地hexo根目录中<code>source</code>目录下添加<code>CNAME</code>文件，文件内容为一行，就是你的域名：<code>lyso.me</code>。<br>好了，用<code>hexo g -d</code>发布上去等一会试试吧。</p>
<h2 id="写一篇新文章">写一篇新文章</h2><p>写新文章的原理就是在<code>source/_posts</code>目录下添加新的md文档。你既可以手动新建一个文本文件扔进去，也可以通过以下命令新建：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> [layout] <span class="string">"postName"</span></span><br></pre></td></tr></table></figure>
<p>其中layout是可选参数，默认值为post。layout有哪些可以在scaffolds目录下查看，也可以添加自己的layout或编辑现有的layout。至于怎么写文章，就是看你怎么用简洁的markdown语法玩转自己的思路了。文章里可以添加标签、title、摘要、创建时间、永久链接等（可以伪造时间呢，哈哈）：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">title: 我的博客站点搭建过程</span><br><span class="line">date: 2014-05-07 18:44:12</span><br><span class="line">updated: 2014-05-10 18:44:12</span><br><span class="line">permalink: setup-this-site</span><br><span class="line">tags:</span><br><span class="line"> - Hexo</span><br><span class="line"> - github pages</span><br><span class="line"> - Jekyll</span><br><span class="line">categories:</span><br><span class="line"></span><br><span class="line"><span class="horizontal_rule">---</span></span><br><span class="line">![<span class="link_label">builder</span>](<span class="link_url">http://lyso.qiniudn.com/mm.1.jpg</span>)</span><br><span class="line"><span class="header">## 用什么搭建的</span></span><br></pre></td></tr></table></figure>
<h2 id="使用模板">使用模板</h2><p>主题模板的使用很简单，到<a href="http://github.com/tommy351/hexo/wiki/Themes" target="_blank" rel="external">这里</a> 找到你喜欢的主题，然后用git下载到themes目录：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/heroicyang</span><span class="regexp">/hexo-theme-modernist.git themes/modernist</span></span><br></pre></td></tr></table></figure></p>
<p>并修改<code>_config.yml</code>指定为此模板：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">theme</span>: <span class="string">modernist</span></span><br></pre></td></tr></table></figure>
<p>很多模板里都内置了评论、分享等插件，慢慢挖掘吧：）</p>
<h2 id="图床">图床</h2><p>考虑到博客的速度，同时也为了便于博客的迁移，图床是很有需求的，大家可以看看我的<a href="http://lyso.me/2014/06/27/badminton-second-mi/" target="_blank" rel="external">羽毛球亚军那篇博客</a> 体验一下速度：）。看到大家都墙裂推荐七牛，还访问速度极快，支持日志、防盗链和水印，我也试了试，果然不错。本想直接用百度云网盘的外链等方法的，解决不了连接过期问题，还没这个方便。七牛还支持网站直接备份，使用起来非常方便傻瓜，不介绍啦。</p>
<h2 id="评论和分享">评论和分享</h2><p>在很多模板的<code>_config.yml</code>中都可以找到配置，不再多说。</p>
<h2 id="自定义页面">自定义页面</h2><p>我做了两个自定义页面，一个<code>about</code>，一个<code>404.html</code>。用以下命令可以创建自定义页面：<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> page <span class="string">"about"</span></span><br></pre></td></tr></table></figure></p>
<p>404页面我做了腾讯的找孩子公益，比如你点<a href="http://lyso.me/404" target="_blank" rel="external">这里</a> 进我博客的一个不存在的页面，页面下方有教你怎么做（非常简单，只需要把404.html放在source下，并把那句js代码放进去^^）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2014/05/07/setup-this-site/" data-id="ci7zkadwj000er1589v1bqc4l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Jekyll/">Jekyll</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github-pages/">github pages</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-redis-mampa" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/03/10/redis-mampa/" class="article-date">
  <time datetime="2014-03-10T10:44:12.000Z" itemprop="datePublished">2014-03-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/10/redis-mampa/">小米异步消息处理架构：mampa应用篇之——Redis-mampa</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="TO_BE_ADDED…">TO BE ADDED…</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2014/03/10/redis-mampa/" data-id="ci7zkadwr000rr158l6zqr4pq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FSM/">FSM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/">Redis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/actor模型/">actor模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/erlang/">erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java内存模型/">java内存模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java线程模型/">java线程模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/netty/">netty</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis-pipline/">redis pipline</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/并发/">并发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/开源/">开源</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步/">异步</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步Redis客户端/">异步Redis客户端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/有限状态机/">有限状态机</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hbase-mampa" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/03/01/hbase-mampa/" class="article-date">
  <time datetime="2014-03-01T10:44:12.000Z" itemprop="datePublished">2014-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/01/hbase-mampa/">小米异步消息处理架构：mampa应用篇之——HBase-mampa</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="TO_BE_ADDED…">TO BE ADDED…</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2014/03/01/hbase-mampa/" data-id="ci7zkadxf002qr158f1otr4gj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FSM/">FSM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HBase/">HBase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/actor模型/">actor模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/erlang/">erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hbase-batch/">hbase-batch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java内存模型/">java内存模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java线程模型/">java线程模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/并发/">并发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/开源/">开源</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步/">异步</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步HBase客户端/">异步HBase客户端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/有限状态机/">有限状态机</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mampa" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/02/01/mampa/" class="article-date">
  <time datetime="2014-02-01T10:44:12.000Z" itemprop="datePublished">2014-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/02/01/mampa/">小米异步消息处理架构：mampa</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://lyso.qiniudn.com/mampa.jpg" alt="mampa"></p>
<h2 id="什么是mampa">什么是mampa</h2><p><em>MAMPA</em>的全称是：<em>xiaoMi Asynchronous Message Processing Architecture</em>，是我在小米消息组时用java开发的一套异步并发框架。</p>
<h2 id="为什么做mampa">为什么做mampa</h2><p>　　问各位一个问题：如何写并发程序？大家脑海中会浮现一堆关键词，synchronized, ReentrantReadWriteLock, Condition, await, notify, ThreadLocal, Lock, LinkedBlockingQueue, ConcurrentHashMap, volatile …… 也能想到一些其他的语言，如Erlang、Golang等。我们需要考虑到对象是需要对象和类是不是线程安全的，是不是需要在多个线程上运行，是不是要加锁，会不会造成死锁，会不会有饥饿，要不要为性能失掉一定的正确性，等等。在这种情况下，新手上路很难写出正确高效漂亮兼具的代码，高手和大牛的经验不具有可复制性可可扩展性。</p>
<p>　　小米消息系统的架构和业务逻辑代码大多用Erlang编写，这里另外一个越来越突出的问题是，大规模Erlang程序学习曲线太高，新手很难在短时间内参与到线上系统的开发和问题调查中去，这样会导致个别老员工疲于奔命……</p>
<p>　　一开始，老员工想做出这套erlang程序的java版。但后来Team Lead找到我，说我们应该着眼与更长远的目标，做一套通用的框架，让新同事写业务逻辑时就像连连线，不用考虑多线程问题。于是我开始研究Erlang中的gem_fsm，研究akka中的actor，在组里其他同事的协助和宝贵建议下，mampa出炉并一步一步走向成熟，逐步接管小米云平台消息系统各个业务中的各种模块。</p>
<h2 id="设计核心">设计核心</h2><p>　　我们的目标是，<em>设计一个高吞吐高性能的异步消息处理架构，并对开发者将并发问题隐藏起来</em>。</p>
<h3 id="从头开始">从头开始</h3><p>　　什么样的并发程序/机制是高效的？加锁？共享内存？信号量？</p>
<p>　　要回答这个问题，我们不妨想想，自然界的并发单位是什么？我们每个人都是一个并发单位，我们都在做着自己的事情，思考着自己的问题——哪里有什么共享内存？人与人之间交流，用说话，用短信，电子邮件，为什么需要在你大脑里的一块区域加锁，然后把要告诉你的信息放进去，然后再释放锁？哪有什么锁的概念？我想问题时到我自己大脑检索信息，难道也要锁不成？</p>
<p>　　我接触到这个概念是恍然大悟“是啊，是这样的”，不知道你怎么想。那在写程序时，为什么不能这样呢。这是MAMPA的设计核心思路——无锁。</p>
<h3 id="Actor：并发单元">Actor：并发单元</h3><p>　　在MAMPA中，一个并发单元就是Actor。每个Actor锁定在一个线程上：这个Actor中的所有数据只有这个线程能处理、这个线程也只为这个Actor服务。</p>
<p>　　有了Actor，怎么与之通信呢？<a href="http://golang.org/doc/effective_go.html" target="_blank" rel="external">Golang</a> 有一个我很喜欢的设计理念，</p>
<blockquote>
<p>Do not communicate by sharing memory; instead, share memory by communicating.</p>
</blockquote>
<p>　　在Golang里是通过channel传输消息的，那我们也需要给Actor做一个专用的channel，叫做mailbox。任何Actor想与其他Actor通信，就需要把消息发到他们的mailbox中，也就是说mailbox可以任意多个线程写，只有一个线程读——多线程的竞争问题只在此处体现，除此之外，全是单线程的天下，即除了mailbox的其它任意数据只有一个线程读写。</p>
<p>　　那如何高效实现这样的mailbox呢？当然有一种简单的实现方案是LinkedBlockingQueue。这个场景我们的第一反应是<a href="https://github.com/LMAX-Exchange/disruptor" target="_blank" rel="external">Disruptor</a> ，一个高效的无锁环形队列。对Disruptor的介绍参见我<a href="http://lyso.me/2013/09/01/disruptor/" target="_blank" rel="external">另一篇文章</a> 。</p>
<h2 id="应用案例">应用案例</h2><h2 id="mampa性能好在哪">mampa性能好在哪</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2014/02/01/mampa/" data-id="ci7zkadxc002gr158c233f8c3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FSM/">FSM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/actor模型/">actor模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/erlang/">erlang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java内存模型/">java内存模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java线程模型/">java线程模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/并发/">并发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/开源/">开源</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步/">异步</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/有限状态机/">有限状态机</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-disruptor" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/09/01/disruptor/" class="article-date">
  <time datetime="2013-09-01T10:44:12.000Z" itemprop="datePublished">2013-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/09/01/disruptor/">Disruptor剖析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2013/09/01/disruptor/" data-id="ci7zkady20040r158texuh6py" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/并发/">并发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/开源/">开源</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步/">异步</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/无锁/">无锁</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/队列/">队列</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-meet-yuhuafeng-benlai" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/21/meet-yuhuafeng-benlai/" class="article-date">
  <time datetime="2013-03-21T15:22:11.000Z" itemprop="datePublished">2013-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/21/meet-yuhuafeng-benlai/">初见喻华峰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://www.jizhezhan.net/template/admin/editor/attached/image/20140411/20140411103913_58794.jpg" alt="image"></p>
<p>　　2012年底与本科的几个同学一起在北大西门的秦门吃饭。都是些老话题，最近怎么样，混的爽不爽。大家都走上了不同的路，有博士，陈博士、黄博士；有公务员，肖主席、刘主席，有央企巨头吴总，有bat大民企刘总邓总（都是飞哥），也有我这样的屌丝小民企。</p>
<p>　　饭间大家互相聊聊自己工作上的那些事，气氛不错，几口羊肉泡馍下了肚，我半开玩笑的说，现在项目做一个黄一个，正在做的事情挺无聊。看有没有靠谱的创业团队，给哥们介绍介绍。班长陈博士问我想去哪种行业，我说电商，不记得当时是否说生鲜电商了，陈博士说他还真知道一个，本来生活他们就是在做这一块的。陈博士说我认识喻总，你要感兴趣的话简历给我，我给你推一下，我说好啊好啊。</p>
<p>　　那个时候还没铁了心要离开，后来两天就没想这事情。倒是班长记着我，问我是不是真想去，并叮嘱我别试着玩，他们那边会当真。我认真的考虑了会，觉得自己本来不就是搞生鲜农副电商类的贴地气的事情么，那就试试吧，于是认真了起来，把简历发给了班长。这个时候对喻华峰还没有一点印象，于是顺着本来生活的藤慢慢的摸了些背景知识，陡然起敬，原来是个有这么段经历的人。再后来没音讯了，我问班长，他说已经跟那边说了，估计得年后会联系我。</p>
<p>　　年后我陆续看了两三家公司，恰巧都是以前同事推荐的老网易人搞的，主线就两个点，要找nb的创业团队，要做有意思的、自己认同的事情。这个过程中我挺感激的，跟前辈们聊总是能收获到很多，我觉得这段时间虽然写代码可能手生了些，但在看问题的角度、想事情的广度上我觉得自己都有很大的成长。我跟陈老师说，我东瞅瞅西看看并不是不知道自己想要什么，只是平时工作上哪有机会这样跟各个领域各个级别的人都能聊聊，从他们的视角看看当今世界。谢谢这些耐心给我讲故事的总们和老师们。</p>
<p>　　本来生活这边一直没消息，我又问班长，班长说耐心等下，另外告诫我他们给的钱不多，让我多看看其他地方。</p>
<p>　　不久之后本来生活老钱用浓重的南方口音给我打电话说有空来面试没，我手机多少多少，公司地点在哪在哪，你记一下吧。我接电话不好意思在室内接，室外用脑子记一个电话号码还行，加上地址就搞不定了，脑子缓存也就那点。。。后来实在想不起来房门号了，打回电话给老钱结果他没接到。回到座位上我一想，靠这么2b，上他们网站上看看不得了，于是直接把地址复制到了导航收藏里。</p>
<p>　　面试的过程很顺利，老钱先跟我各方各面海聊一同，说我找个我们这边技术挺牛的人小方来跟你互相理解一下吧。和小方的面试过程倒出乎我的意料，还是对着简历海聊，没问一个算法题或写代码什么的。昨晚还复习了半夜的算法分析书，没用上。有句话没错，面试是相互的，不仅面官在看你，你也在看这家公司里的技术团队是什么样子，从这个角度上即使有心理准备也增添了不少顾虑，当然这短短时间里看到的只是一个面，一个角。之后老钱又过来聊了聊，说对我印象很不错期望我过来，但也提前把问题摆出来：我们给不了你那么多的薪酬。我问你怎么不提股权的事情，他说我们现在都先不提，我云里雾里的走了。对老钱的印象还不错。</p>
<p>　　再后来在吃饭的路上偶遇google的威哥和肖哥，简单聊了几句，肖哥说这周就transfer到米国去了。晚上跟老婆聊聊，觉得诶不错，在天朝干嘛都觉得挺憋屈的，性价比好低，即使不考虑这一层，我们的人生经历也应该更丰富些，有机会出去看看不挺好嘛。于是找ares爷给做了个内推。后来想想，我的考虑因素的那主要两点：团队+技术 vs. 业务方向，google和本来生活在两个极端，这两者中间有数不清的公司，什么bat360最近也在大规模招人（从几个人给我介绍的情况来看给的钱也超多），我却是只对两个极端的感兴趣。我跟陈老师说这么选可能别人感觉有点2。我自己都觉得这种思路也挺2。不过就是贱贱的不想去中间的那些地方。google面试进度很慢，刚走完最后一轮的onsite，还没结果。感觉不是太好。</p>
<p>　　在这插入“天花板”的故事。（这里“天花板”代指，没有任何讥讽之类的贬义，只是个代名词，文章里不想有太多的信息量，多谢谢总的教导。。。）。也是老同事给推了个荐，去面了个试，给了个他们说已经到了这个年限天花板的offer。据了解是hr姐这边q1快结束了可kpi还远没达到，好不容易肝儿颤的给我了个天花板offer得赶紧签了，别占坑不拉屎。陈老师从挺早就站到他们的阵营了，每天例行问候“怎么样了”，我就像例行汇报……前面感激过了就不多说了，陈老师的心思我明白，大家磨合了不止一个项目，以后一起做事更好。这道理我懂，我不是心烦任何一个人，包括hr姐……他们在催我说明认可我，想让我一起做事情。</p>
<p>　　我只是在这件事情上不想被催促。</p>
<p>　　后来我跟hr姐说月底给答复，然后我们挂了电话倒是清净了几天。前两天突然打电话来说考虑的怎么样了，那周五给答复吧。怎么答复，之前老钱打电话来说喻华峰想找我聊，我还没拜见喻总呢，google还没说甩不甩我呢，要我现在答复，我不能打太极或玩欺骗吧，那我只能说咱跟天花板没缘分。想起之前跟陈老师提到了应届找工作时360很早给了offer，salary不错还有期权但要求1天答复，我直接说算了。虽说当时看不到现在360的势头，现在想起来也不后悔。除了我有点后悔毕业之前从小到大都傻不啦即的遇事不知道多想，印象中也没什么好后悔的事情。无论接不接天花板，都不会后悔。不一样的人生而已（插话：我突然想起一些影视桥段，问要再从来一遍，你是不是仍然会这样选择？我擦谁玩游戏会愿意原路走老剧情）。</p>
<p>　　之前跟老钱大致约在了这周四五的样子见喻总。上午老钱就发来短信问时间，我说我随意，看喻总时间安排。上午跟易帝聊到乱七八糟户口啊贷款啊买房啊之类的事情，我这方面是小白想请教一把，就说中午一起吃饭吧。恰在此时陈老师给了一堆醉爱券（谁想要来找我取吧。。），我说我们去醉爱吧。伟哥也一起去了，一听说去醉爱摸了摸兜憨厚一笑，我就30多块钱…… 伟哥肿是那么淳朴可爱，我会想你的，还有你的腊肉。</p>
<p>　　饭间1:20左右才看到老钱的短信，“2点准时到，喻总之后还有会”，幸好今天手痒开车来的，倒是赶上时间了。</p>
<p>　　初见喻华峰，跟想象中大模样差不多，老些。穿似乎80年代样子的深蓝色中山装，利索的短发。跟一个人面对面交流时才能知道什么是真什么是假。他说其实我们是前同事呢。简单问问我这边都还有些什么项目，问我现在在做什么，我说那我把我现在的情况给您摆一下吧，接着说了我做过什么想做什么在看那些机会对什么感兴趣之类的。之后继续就着本来生活的业务以及以后的情况介绍。喻总一步一步讲了以后的打算，很具体，聊的过程中也跟我说了些他在人生、职业方面的经验，很受用。后来我说了自己的两个顾虑，虽然没有在当下给我什么保证，他所说的后续打算也让我放心了许多。回来跟陈老师聊时开玩笑说，挺巧的，网易VP最近直接或间接接触了好几个…… 把我当回事找我认真聊的也就喻总吧，这也算是一种知遇吧，无论是谁当事，其他不说，也会心存感激的。这个场合可能不合适，不过我想到了王伯当。</p>
<p>　　昨天凌晨给哥们发了个短信，感慨我们没有当年高考填志愿时“大不了再来一年”的洒脱，人生有了那么一点点积累就失去了放弃的勇气。从另一个角度再回想下，心中也挺感激，身边都是些有血性不算计的善良人。这段时间收获了很多，要感谢指点我的人和认可我的人，也要抱歉因我长时间没做决定而影响到的人。这段时间“多聊聊”对我来说，是最受用的一门课。</p>
<p>　　还有三个月就毕业两年了。在这近两年里我浅知些算法、系统、架构，浅知些运维、运营、运作，浅知些产品、用户、推荐，浅知些项目、团队、敏捷…… 从身边人的口中也能发现一些也许自己不知道的点，比如谢总福老师都说我“有产品的潜质”，福老师跟我聊他在MS的情况时说你别来这，“你有google范”（其实是太抬举我了）…… 这个过程中我逐渐了解到，做事不只是做事。而我也意识到我所知道的这些都是做事的冰山一角。与一伙有意思的人一起做一件有意思的事，本身就是件很有意思的事。</p>
<p>　　这段时间里我需要感激的人和事有很多，都没提到。现在好像还没到总结的时候，只是今天下午收拾了东西没什么事想记录下对喻总的印象，然后背景不小心铺垫多了些……</p>
<p>leoyonn匝gmail.com<br>2013.3.21晚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2013/03/21/meet-yuhuafeng-benlai/" data-id="ci7zkadx70029r158f5u20u2i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/创业/">创业</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/喻华峰/">喻华峰</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/本来生活/">本来生活</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/职业规划/">职业规划</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-santi-startup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/11/24/santi-startup/" class="article-date">
  <time datetime="2012-11-24T15:22:11.000Z" itemprop="datePublished">2012-11-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/11/24/santi-startup/">三体与创业</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://zimg.duliboke.net/2012/11/santi-txt.jpg" alt="image"><br>　　昨晚三点半看完了三体III，不得不惊叹一个人可以有这么宏伟的想象力，感谢作者刘慈欣写出了这三部越来越精彩的科幻小说，这也是我印象中看过的唯一一部完整的科幻小说。</p>
<p>　　有好多个情节印象很深刻，比如从面壁人、执剑人到守墓人活了近200岁的罗辑，在一堵白墙前用眼神威慑了三体文明半个多世纪；深度隐藏的逃亡主义者章北海和不惜一切坚持自己想法的维德，在面临选择时的坚定和在志向暂时无法实现时的隐忍（还有一定更让我佩服的，如此坚持理想的维德在理想与履行承诺之间选择了后者）；犹如坐在门口摆弄沙粒一样的歌者，从另外一个角度向我们展示了宇宙中文明之间的黑暗森林状态；等等。</p>
<p>　　在三体的背景设定中，宇宙中存在亿万个文明，文明生存的状态被称为黑暗森林，宇宙社会学中指出宇宙中的两条最基本理论：生存和物质守恒。在这样的大背景下，每一个文明像是森林中的一个猎人，想长久的发展下去所要做的就是藏好自己、做好清理。</p>
<p>　　今天中午约F公司的两位吃了个饭，也算是对其业务有了深入的了解，解了之前心头之惑。</p>
<p>　　最近团队刚刚切换了方向，原来做的产品又步入维护状态。这对于我们团队绝大多数人人来说已经不是第一次发生了，这种感觉挺不爽的。而且换的新方向是一个已经做的算是不错的产品了，用户量和活跃度都不错，但我们的团队加进来很奇怪，他们原来的研发甚至比我们还少。我跟同事聊的时候类比一下自己对这个调整的感觉：公司本来打算养一只鸡，有一只杀鸡刀。后来没想到鸡越来越大，看着挺像牛的，就觉得自己手里其实是宰牛刀，那我们找牛吧。新的方向我也不怎么感兴趣，觉得是为了做而做，这是我想走的原因之三。但如果只是这个问题，不走也能解决。</p>
<p>　　其实两年前找工作的时候，同学们的选择范围非常广泛，从大私企、创业公司、外企到国企、事业单位、研究院、留校到投行、银行等行业，我只投了私企和个别外企，而从到手的offer中，又从产品和团队的角度选择了现在的公司。一度因为B产品情况而挺低落。去年的现在开始做现在这个产品F，也开始对推荐算法、机器学习产生了较浓厚的兴趣，不过一开始都是简单的规则等方法，产品推荐方面处于功能的堆积阶段，没有太多的深入思考。前些时间也积极往这个方面发展，在技术团队分组时担了个应用研究接口人的角色。也就是这段时间，对这一块深入的了解，于此同时两件事情导致了能从另外的角度考虑问题：做应用研究的同事增多、产品迭代进度缓慢。通过对相关书籍的学习、在微博上也follow了很多机器学习相关的大牛、参加比如SDCC大会中接触一些智能算法行业中的领军人物、了解了前沿技术及存在的问题、也像公司里像D总D博等大牛讨教，最终得到两条结论：</p>
<ol>
<li>F产品目前的状况就开始考虑复杂的模型就是扯蛋；</li>
<li>我不适合做研究，还是在设计与编码的过程及成果中的快感更实在。</li>
</ol>
<p>　　这也是我想走的原因之二。但如果只是这个问题，不走也能解决。</p>
<p>　　在任何已经离职的前同事对公司的评价都很一致，这是一家很好的公司，尤其对于技术来说，对于新人来说。其实在我来之前，公司的离职率是非常低的，但这两年情况急转直下。无论是公司战略的原因还是总公司给的压力，其他同事离开的原因挺多，这里不说了。但我选择离开，第一个也是最主要的原因是在公司温床上做产品的问题：</p>
<ol>
<li>做死做活团队中员工挣的都一样，就会导致没有一起做好的决心；</li>
<li>产品决策缓慢，经常有idea就被来回拍；</li>
<li>产品运营、市场经费由公司统一调控，lead层如果看不好，那就推不好。</li>
</ol>
<p>　　这样一来做事情没有动力和激情。</p>
<p>　　这些是故事背景。</p>
<p>　　我想说的是创业感觉上挺像三体里的文明的：</p>
<ol>
<li>一个创业团队是一个文明，从大公司分离出来的小团队一起创业就像是蓝色空间号和万有引力号组成新文明文明，与地球上的人类太阳系文明已经不一样了。</li>
<li>各个公司之间的竞争就是文明间的战争或冲突；宇宙物质总和就像是潜在市场总量。</li>
<li>散落在世界各地有数不清的文明，知道的和不知道的。想到这里我不由得想到年前武汉的一个哥们和我一起创业的事情，我低估了工作时的时间和精力占有量，公司都注册了，由于我的个人问题，最终不了了之。</li>
<li>藏好自己，尤其是在这经济的低谷期，能挺过去的应该都是能耗的，在一开始就咋咋呼呼会像公元纪年和危机纪年的人类一样，被发现和打压，多像那些被狗日的T公司拷贝的产品团队。</li>
<li>危机感以及对对手的正确估计。太阳系文明的问题就在于总是在取得一点点成绩后就骄傲自满，过低的估计外星文明，包括末日战争时的水滴攻击及最终的降维攻击。</li>
<li>果断决策，好多次可以扭转的机会世界政府都没有把握住，其中也包括程心的“两次错误”。但这些决策到底是不是错了呢，即使走了光速飞船的路线最终也不要定能造成黑域，即使造成了把太阳系文明永远困死也不一定是正确的。但果断决策、一条路走到黑，即使死了也叫英雄。</li>
<li>活的久的都是反应快的。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2012/11/24/santi-startup/" data-id="ci7zkadwo000lr158owdssdv9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/三体/">三体</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/丛林法则/">丛林法则</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/创业/">创业</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/职业规划/">职业规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/黑暗森林/">黑暗森林</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-go-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/11/24/go-hello-world/" class="article-date">
  <time datetime="2012-11-24T15:22:11.000Z" itemprop="datePublished">2012-11-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/11/24/go-hello-world/">初识go语言，写了个递归题目作为helloworld</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://lh6.googleusercontent.com/-mSbXs4DHQeg/TlVL0OUc49I/AAAAAAAAIkw/1kUwgCeYLLA/w800-h800/IMAG0217.jpg" alt="image"><br>　　上周D总在公司TTT上普及了go，当时只是概念上知道这门语言，D总出的小题目我用Java写了类似于DP的算法，被宣布太耗内存^^。这两天在公交上看了会reference（<a href="http://golang.org" target="_blank" rel="external">http://golang.org</a> ），最喜欢的特性是goroutines、多返回值和并列赋值/声明。觉得光看没用，还是写个helloworld吧，想到之前看到过一个这样的题目：</p>
<blockquote>
<p>一颗二叉树，其节点上不均匀的分布了若干石头，石头数跟二叉树总节点数相同，石头只能在边上（即父子节点之间）进行搬运，每次只能搬运一颗石头。求使每个节点石头皆为一的最少搬运次数。<br>，甚至可能我的解法不是最优，这里主要是作为golang练手，在代码里详述。由于连机器上都还没装go环境，直接在<a href="http://play.golang.org" target="_blank" rel="external">http://play.golang.org</a> 上写的：</p>
</blockquote>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="swift">package main</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">import</span> (</span><br><span class="line">     <span class="string">"fmt"</span></span><br><span class="line"> )</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">var</span> <span class="type">N</span> int = <span class="number">9</span></span><br><span class="line"> <span class="keyword">var</span> moves int = <span class="number">0</span></span><br><span class="line"> </span><br><span class="line"> type <span class="type">Node</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">     <span class="type">V</span> int        <span class="comment">// number of stones the node keep</span></span><br><span class="line">     <span class="type">Feel</span> int    <span class="comment">// number of stones the tree have, can be positive or negative</span></span><br><span class="line">     <span class="type">L</span> *<span class="type">Node</span>        <span class="comment">// left child</span></span><br><span class="line">     <span class="type">R</span> *<span class="type">Node</span>        <span class="comment">// right child</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="params">(node *Node)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> fmt.<span class="type">Sprintf</span>(<span class="string">"&#123;%d|%d&#125;"</span>, node.<span class="type">V</span>, node.<span class="type">Feel</span>)</span><br><span class="line"> &#125; </span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span><br><span class="line">     what the mokced tree seems like:</span><br><span class="line">      0|1</span><br><span class="line">     / \</span><br><span class="line">    1|3 2|1</span><br><span class="line">   / \   \</span><br><span class="line">|0 4|1 5|0</span><br><span class="line">   \     / \</span><br><span class="line">    6|1 7|0 8|2</span><br><span class="line"> */</span></span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">mock</span><span class="params">()</span> *<span class="title">Node</span> </span>&#123;</span><br><span class="line">     <span class="comment">// make new nodes</span></span><br><span class="line">     nodes := make([]*<span class="type">Node</span>, <span class="type">N</span>)</span><br><span class="line">     nodes[<span class="number">0</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">1</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">3</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">2</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">3</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">4</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">5</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">6</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">7</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line">     nodes[<span class="number">8</span>] = &amp;<span class="type">Node</span>&#123;<span class="number">2</span>,<span class="number">0</span>,<span class="built_in">nil</span>,<span class="built_in">nil</span>&#125;</span><br><span class="line"> </span><br><span class="line">     <span class="comment">// construct tree    </span></span><br><span class="line">     nodes[<span class="number">0</span>].<span class="type">L</span>, nodes[<span class="number">0</span>].<span class="type">R</span> = nodes[<span class="number">1</span>], nodes[<span class="number">2</span>]</span><br><span class="line">     nodes[<span class="number">1</span>].<span class="type">L</span>, nodes[<span class="number">1</span>].<span class="type">R</span> = nodes[<span class="number">3</span>], nodes[<span class="number">4</span>]    </span><br><span class="line">     nodes[<span class="number">2</span>].<span class="type">L</span>, nodes[<span class="number">2</span>].<span class="type">R</span> = <span class="built_in">nil</span>, nodes[<span class="number">5</span>]</span><br><span class="line">     nodes[<span class="number">3</span>].<span class="type">L</span>, nodes[<span class="number">3</span>].<span class="type">R</span> = <span class="built_in">nil</span>, nodes[<span class="number">6</span>]</span><br><span class="line">     nodes[<span class="number">4</span>].<span class="type">L</span>, nodes[<span class="number">4</span>].<span class="type">R</span> = <span class="built_in">nil</span>, <span class="built_in">nil</span></span><br><span class="line">     nodes[<span class="number">5</span>].<span class="type">L</span>, nodes[<span class="number">5</span>].<span class="type">R</span> = nodes[<span class="number">7</span>], nodes[<span class="number">8</span>]</span><br><span class="line">     nodes[<span class="number">6</span>].<span class="type">L</span>, nodes[<span class="number">6</span>].<span class="type">R</span> = <span class="built_in">nil</span>, <span class="built_in">nil</span></span><br><span class="line">     nodes[<span class="number">7</span>].<span class="type">L</span>, nodes[<span class="number">7</span>].<span class="type">R</span> = <span class="built_in">nil</span>, <span class="built_in">nil</span></span><br><span class="line">     nodes[<span class="number">8</span>].<span class="type">L</span>, nodes[<span class="number">8</span>].<span class="type">R</span> = <span class="built_in">nil</span>, <span class="built_in">nil</span></span><br><span class="line">     <span class="keyword">return</span> nodes[<span class="number">0</span>]</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span><br><span class="line">  move stones between root, root.L, root.R, recursively.</span><br><span class="line"> */</span></span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">move</span><span class="params">(root *Node)</span> </span>&#123;</span><br><span class="line">     moves = <span class="number">0</span></span><br><span class="line">     <span class="built_in">print</span>(<span class="string">"init"</span>, root)</span><br><span class="line">     <span class="built_in">count</span>(root)</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">"after count"</span>, root)</span><br><span class="line">     collect(root)</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">"after collect"</span>, root)</span><br><span class="line">     welfare(root)</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">"after welfare, finally got"</span>, root)</span><br><span class="line">     fmt.<span class="type">Println</span>(<span class="string">"all stone moves: "</span>, moves)</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span><br><span class="line">  count feel of stones and number of nodes of root.</span><br><span class="line"> */</span></span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">count</span><span class="params">(root *Node)</span> <span class="params">(feel int)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> root == <span class="built_in">nil</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span> </span><br><span class="line">     &#125;</span><br><span class="line">     feelL := <span class="built_in">count</span>(root.<span class="type">L</span>)</span><br><span class="line">     feelR := <span class="built_in">count</span>(root.<span class="type">R</span>)</span><br><span class="line">     root.<span class="type">Feel</span> = feelL + feelR + root.<span class="type">V</span> - <span class="number">1</span></span><br><span class="line">     <span class="keyword">return</span> root.<span class="type">Feel</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span><br><span class="line">   collect redundant stones up from rich child(ren)</span><br><span class="line"> */</span></span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">collect</span><span class="params">(root *Node)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> root == <span class="built_in">nil</span> &#123;</span><br><span class="line">         <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line">     collect(root.<span class="type">L</span>)</span><br><span class="line">     collect(root.<span class="type">R</span>)</span><br><span class="line">     <span class="keyword">if</span> root.<span class="type">L</span> != <span class="built_in">nil</span> &amp;&amp; root.<span class="type">L</span>.<span class="type">Feel</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">         <span class="comment">// todo: number of stones to collect</span></span><br><span class="line">         todo := root.<span class="type">L</span>.<span class="type">Feel</span></span><br><span class="line">         moves += todo</span><br><span class="line">         <span class="comment">// move upward</span></span><br><span class="line">         root.<span class="type">V</span> += todo</span><br><span class="line">         root.<span class="type">L</span>.<span class="type">Feel</span> = <span class="number">0</span></span><br><span class="line">         root.<span class="type">L</span>.<span class="type">V</span> -= todo</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> root.<span class="type">R</span> != <span class="built_in">nil</span> &amp;&amp; root.<span class="type">R</span>.<span class="type">Feel</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">         todo := root.<span class="type">R</span>.<span class="type">Feel</span></span><br><span class="line">         moves += todo</span><br><span class="line">         root.<span class="type">V</span> += todo</span><br><span class="line">         root.<span class="type">R</span>.<span class="type">Feel</span> = <span class="number">0</span></span><br><span class="line">         root.<span class="type">R</span>.<span class="type">V</span> -= todo</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span><br><span class="line">   dispatch all stones collected to poor child(ren)</span><br><span class="line"> */</span></span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">welfare</span><span class="params">(root *Node)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> root == <span class="built_in">nil</span> &#123;</span><br><span class="line">         <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> root.<span class="type">L</span> != <span class="built_in">nil</span> &amp;&amp; root.<span class="type">L</span>.<span class="type">Feel</span> &lt; <span class="number">0</span> &#123;</span><br><span class="line">         todo := -root.<span class="type">L</span>.<span class="type">Feel</span></span><br><span class="line">         root.<span class="type">L</span>.<span class="type">Feel</span> = <span class="number">0</span></span><br><span class="line">         root.<span class="type">L</span>.<span class="type">V</span> += todo</span><br><span class="line">         root.<span class="type">Feel</span> = <span class="number">0</span> </span><br><span class="line">         root.<span class="type">V</span> -= todo</span><br><span class="line">         moves += todo</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> root.<span class="type">R</span> != <span class="built_in">nil</span> &amp;&amp; root.<span class="type">R</span>.<span class="type">Feel</span> &lt; <span class="number">0</span> &#123;</span><br><span class="line">         todo := -root.<span class="type">R</span>.<span class="type">Feel</span></span><br><span class="line">         root.<span class="type">R</span>.<span class="type">Feel</span> = <span class="number">0</span></span><br><span class="line">         root.<span class="type">R</span>.<span class="type">V</span> += todo</span><br><span class="line">         root.<span class="type">Feel</span> = <span class="number">0</span></span><br><span class="line">         root.<span class="type">V</span> -= todo</span><br><span class="line">         moves += todo</span><br><span class="line">     &#125;</span><br><span class="line">     welfare(root.<span class="type">L</span>)</span><br><span class="line">     welfare(root.<span class="type">R</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span><br><span class="line">  bfs print using chan as queue</span><br><span class="line"> */</span></span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">print</span><span class="params">(title string, root *Node)</span> </span>&#123;</span><br><span class="line">     fmt.<span class="type">Println</span>(<span class="string">"==========| "</span>, title, <span class="string">" |=========="</span>);</span><br><span class="line">     queue := make(chan *<span class="type">Node</span>, <span class="type">N</span>)</span><br><span class="line">     queue &lt;- root</span><br><span class="line">     i := <span class="number">0</span></span><br><span class="line">     <span class="keyword">for</span> node := range queue &#123;</span><br><span class="line">         fmt.<span class="type">Print</span>(node, <span class="string">"; "</span>)</span><br><span class="line">         <span class="keyword">if</span> node.<span class="type">L</span> != <span class="built_in">nil</span> &#123;</span><br><span class="line">             queue &lt;- node.<span class="type">L</span></span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> node.<span class="type">R</span> != <span class="built_in">nil</span> &#123;</span><br><span class="line">             queue &lt;- node.<span class="type">R</span></span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> i += <span class="number">1</span>; i == <span class="type">N</span> &#123;</span><br><span class="line">             close(queue)</span><br><span class="line">             <span class="keyword">break</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     fmt.<span class="type">Println</span>()</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     move(mock())</span><br><span class="line"> &#125;</span></span><br></pre></td></tr></table></figure>
<p>　　其中最自我感觉良好的是，自己想到了个主意用chan作为queue把二叉树BFS打印出来^^，虽然这个在熟手们可能是常用做法。</p>
<p>　　代码里略写了些注释。</p>
<p>　　如果：</p>
<ol>
<li>思路/逻辑不正确；</li>
<li>还有比这更优化的解法；</li>
<li>有些代码不符合go规范或约定；</li>
</ol>
<p>　　请不吝点评：D</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyso.me/2012/11/24/go-hello-world/" data-id="ci7zkadxq003br158f66zxddx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/">go</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/80后/">80后</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ByteBuf/">ByteBuf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dota/">Dota</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FSM/">FSM</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google-Sync/">Google Sync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HBase/">HBase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jekyll/">Jekyll</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MAT/">MAT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NIO/">NIO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Netty/">Netty</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PolledByteBufAllocator/">PolledByteBufAllocator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reactive-Streams/">Reactive Streams</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/actor模型/">actor模型</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/back-pressure/">back pressure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/erlang/">erlang</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github-pages/">github pages</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/">golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase-batch/">hbase-batch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java内存模型/">java内存模型</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java线程模型/">java线程模型</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jhat/">jhat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jmap/">jmap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/little-s-law/">little's law</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mampa/">mampa</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netty/">netty</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/queueing-threory/">queueing threory</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reactive-streams/">reactive streams</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reactor/">reactor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-pipline/">redis pipline</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/三体/">三体</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/丛林法则/">丛林法则</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/亚军/">亚军</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人生/">人生</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存泄露/">内存泄露</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创业/">创业</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/利特尔法则/">利特尔法则</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/喻华峰/">喻华峰</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小米/">小米</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小米推送系统/">小米推送系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小米羽毛球联赛/">小米羽毛球联赛</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发/">并发</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开源/">开源</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异步/">异步</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异步HBase客户端/">异步HBase客户端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异步Redis客户端/">异步Redis客户端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排队理论/">排队理论</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/无锁/">无锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/有限状态机/">有限状态机</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/本来生活/">本来生活</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/泊松过程/">泊松过程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/现实/">现实</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/理想/">理想</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生命/">生命</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/米莱/">米莱</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/羽毛球/">羽毛球</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻墙/">翻墙</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/职业规划/">职业规划</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/豆芽/">豆芽</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/负指数分布/">负指数分布</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/队列/">队列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/马尔科夫链/">马尔科夫链</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/黑暗森林/">黑暗森林</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/80后/" style="font-size: 10px;">80后</a><a href="/tags/ByteBuf/" style="font-size: 10px;">ByteBuf</a><a href="/tags/Dota/" style="font-size: 10px;">Dota</a><a href="/tags/FSM/" style="font-size: 15px;">FSM</a><a href="/tags/Google-Sync/" style="font-size: 10px;">Google Sync</a><a href="/tags/HBase/" style="font-size: 10px;">HBase</a><a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a><a href="/tags/Jekyll/" style="font-size: 10px;">Jekyll</a><a href="/tags/MAT/" style="font-size: 10px;">MAT</a><a href="/tags/NIO/" style="font-size: 10px;">NIO</a><a href="/tags/Netty/" style="font-size: 10px;">Netty</a><a href="/tags/PolledByteBufAllocator/" style="font-size: 10px;">PolledByteBufAllocator</a><a href="/tags/Reactive-Streams/" style="font-size: 10px;">Reactive Streams</a><a href="/tags/Redis/" style="font-size: 10px;">Redis</a><a href="/tags/actor模型/" style="font-size: 15px;">actor模型</a><a href="/tags/back-pressure/" style="font-size: 10px;">back pressure</a><a href="/tags/erlang/" style="font-size: 15px;">erlang</a><a href="/tags/github-pages/" style="font-size: 10px;">github pages</a><a href="/tags/go/" style="font-size: 10px;">go</a><a href="/tags/golang/" style="font-size: 10px;">golang</a><a href="/tags/hbase-batch/" style="font-size: 10px;">hbase-batch</a><a href="/tags/java内存模型/" style="font-size: 15px;">java内存模型</a><a href="/tags/java线程模型/" style="font-size: 15px;">java线程模型</a><a href="/tags/jhat/" style="font-size: 10px;">jhat</a><a href="/tags/jmap/" style="font-size: 10px;">jmap</a><a href="/tags/little-s-law/" style="font-size: 10px;">little's law</a><a href="/tags/mampa/" style="font-size: 15px;">mampa</a><a href="/tags/netty/" style="font-size: 10px;">netty</a><a href="/tags/queueing-threory/" style="font-size: 10px;">queueing threory</a><a href="/tags/reactive-streams/" style="font-size: 10px;">reactive streams</a><a href="/tags/reactor/" style="font-size: 10px;">reactor</a><a href="/tags/redis-pipline/" style="font-size: 10px;">redis pipline</a><a href="/tags/三体/" style="font-size: 12.5px;">三体</a><a href="/tags/丛林法则/" style="font-size: 12.5px;">丛林法则</a><a href="/tags/亚军/" style="font-size: 10px;">亚军</a><a href="/tags/人生/" style="font-size: 12.5px;">人生</a><a href="/tags/内存泄露/" style="font-size: 12.5px;">内存泄露</a><a href="/tags/创业/" style="font-size: 15px;">创业</a><a href="/tags/利特尔法则/" style="font-size: 10px;">利特尔法则</a><a href="/tags/喻华峰/" style="font-size: 10px;">喻华峰</a><a href="/tags/小米/" style="font-size: 10px;">小米</a><a href="/tags/小米推送系统/" style="font-size: 10px;">小米推送系统</a><a href="/tags/小米羽毛球联赛/" style="font-size: 10px;">小米羽毛球联赛</a><a href="/tags/并发/" style="font-size: 20px;">并发</a><a href="/tags/开源/" style="font-size: 17.5px;">开源</a><a href="/tags/异步/" style="font-size: 20px;">异步</a><a href="/tags/异步HBase客户端/" style="font-size: 10px;">异步HBase客户端</a><a href="/tags/异步Redis客户端/" style="font-size: 10px;">异步Redis客户端</a><a href="/tags/排队理论/" style="font-size: 10px;">排队理论</a><a href="/tags/无锁/" style="font-size: 10px;">无锁</a><a href="/tags/有限状态机/" style="font-size: 15px;">有限状态机</a><a href="/tags/本来生活/" style="font-size: 10px;">本来生活</a><a href="/tags/泊松过程/" style="font-size: 10px;">泊松过程</a><a href="/tags/现实/" style="font-size: 10px;">现实</a><a href="/tags/理想/" style="font-size: 10px;">理想</a><a href="/tags/生命/" style="font-size: 10px;">生命</a><a href="/tags/米莱/" style="font-size: 10px;">米莱</a><a href="/tags/羽毛球/" style="font-size: 10px;">羽毛球</a><a href="/tags/翻墙/" style="font-size: 10px;">翻墙</a><a href="/tags/职业规划/" style="font-size: 15px;">职业规划</a><a href="/tags/豆芽/" style="font-size: 10px;">豆芽</a><a href="/tags/负指数分布/" style="font-size: 10px;">负指数分布</a><a href="/tags/队列/" style="font-size: 10px;">队列</a><a href="/tags/马尔科夫链/" style="font-size: 10px;">马尔科夫链</a><a href="/tags/黑暗森林/" style="font-size: 12.5px;">黑暗森林</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">一月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">十一月 2010</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/04/02/1/">test</a>
          </li>
        
          <li>
            <a href="/2015/04/02/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/01/02/douya/">小豆芽表情九连拍</a>
          </li>
        
          <li>
            <a href="/2014/08/27/reactor/">reactor代码浅析</a>
          </li>
        
          <li>
            <a href="/2014/08/26/backpressure/">back pressure及reactive streams研究</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 leoyonn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>